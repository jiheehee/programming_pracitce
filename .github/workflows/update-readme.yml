# 이 워크플로우는 update.py 파일을 실행합니다. 즉 README.md 파일을 업데이트합니다.

name: Update readme # GitHub Actions 탭에서 확인할 수 있는 액션 이름

on: # jobs가 실행되어야 하는 상황 정의
  push:
    branches: [ "main" ] # main 브랜치에 push가 발생했을 때 실행
  pull_request:

jobs: # 실제 실행될 내용
  build:
    runs-on: ubuntu-latest # 빌드 환경
    steps:
      - uses: actions/checkout@v3 # checkout 액션
      - name: Set up Python 3.10 
        uses: actions/setup-python@v3 # 파이썬 설정 액션
        with:
          python-version: "3.10" # 파이썬 3.10 버전 사용
      - name: Install dependencies # 필요한 패키지 설치
        run: |
          python -m pip install --upgrade pip
          pip install python-leetcode
      - name: Run update.py # update.py 실행
        run: |
          python update.py
      - name: Commit changes # 변경 사항 커밋
        run: |
          git config --global user.name 'jiheehee'
          git config --global user.email 'youjh0421@naver.com'
          git add README.md
          git commit -m "auto update README.md"
      - name: Push changes # 변경 사항 푸시
        run: git push
